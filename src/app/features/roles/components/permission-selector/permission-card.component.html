<nz-card class="permission-card" [class.assigned]="isAssigned">
  <div class="permission-header">
    <nz-badge [nzStatus]="isAssigned ? 'success' : 'default'" [nzText]="permission.action"></nz-badge>
    @if (isAssigned) {
      <span nz-icon nzType="check-circle" nzTheme="fill" class="check-icon"></span>
    }
  </div>
  @if (permission.description) {
    <p class="permission-description">{{ permission.description }}</p>
  }
  <div class="permission-actions">
    @if (isAssigned) {
      <app-button
        danger
        size="small"
        [loading]="saving"
        [disabled]="readonly"
        (click)="onUnassign()"
        class="action-button"
        icon="close"
      >
        Unassign
      </app-button>
    } @else {
      <app-button
        type="primary"
        size="small"
        [loading]="saving"
        [disabled]="readonly"
        (click)="onAssign()"
        class="action-button"
        icon="plus"
      >
        Assign
      </app-button>
    }
  </div>
</nz-card>
