<div class="product-detail">
  <div class="page-header">
    <button nz-button nzType="default" routerLink="/inventory/products">
      <span nz-icon nzType="arrow-left"></span>
      Back to List
    </button>
    <h1>{{ isEditMode ? 'Edit Product' : 'Create Product' }}</h1>
  </div>

  <nz-card [nzLoading]="loading">
    <form nz-form [formGroup]="productForm" (ngSubmit)="save()">
      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzRequired>SKU</nz-form-label>
            <nz-form-control nzErrorTip="Please input SKU!">
              <input nz-input formControlName="sku" placeholder="SKU" />
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzRequired>Name</nz-form-label>
            <nz-form-control nzErrorTip="Please input product name!">
              <input nz-input formControlName="name" placeholder="Product Name" />
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <nz-form-item>
        <nz-form-label>Description</nz-form-label>
        <nz-form-control>
          <textarea nz-input formControlName="description" [nzAutosize]="{ minRows: 2, maxRows: 6 }" placeholder="Product Description"></textarea>
        </nz-form-control>
      </nz-form-item>

      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label>Category</nz-form-label>
            <nz-form-control>
              <input nz-input formControlName="category" placeholder="Category" />
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzRequired>Unit Price</nz-form-label>
            <nz-form-control nzErrorTip="Please input unit price!">
              <nz-input-number formControlName="unitPrice" [nzMin]="0" [nzStep]="0.01" style="width: 100%"></nz-input-number>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label nzRequired>Initial Stock</nz-form-label>
            <nz-form-control nzErrorTip="Please input initial stock!">
              <nz-input-number formControlName="stock" [nzMin]="0" [nzPrecision]="0" style="width: 100%"></nz-input-number>
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label>Reorder Level</nz-form-label>
            <nz-form-control>
              <nz-input-number formControlName="reorderLevel" [nzMin]="0" [nzPrecision]="0" style="width: 100%"></nz-input-number>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div nz-row [nzGutter]="16">
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label>Barcode</nz-form-label>
            <nz-form-control>
              <input nz-input formControlName="barcode" placeholder="Barcode" />
            </nz-form-control>
          </nz-form-item>
        </div>
        <div nz-col [nzSpan]="12">
          <nz-form-item>
            <nz-form-label>Active</nz-form-label>
            <nz-form-control>
              <nz-switch formControlName="isActive"></nz-switch>
            </nz-form-control>
          </nz-form-item>
        </div>
      </div>

      <div class="form-actions">
        <button nz-button nzType="primary" [nzLoading]="saving" [disabled]="!productForm.valid">
          {{ isEditMode ? 'Update' : 'Create' }}
        </button>
        <button nz-button nzType="default" type="button" routerLink="/inventory/products">Cancel</button>
      </div>
    </form>
  </nz-card>
</div>
